# 图片字幕生成器 PRD 文档

## 1. 产品概述

### 1.1 产品名称
- **产品名称**：网页-图片字幕生成器
- **产品定位**：在线图片处理工具，为图片添加底部字幕

### 1.2 产品描述
一个基于网页的图片字幕生成工具，用户可以上传图片，在图片底部添加文字字幕，每行文字带有相同背景色，产生切割感的视觉效果。

### 1.3 目标用户
- 社交媒体内容创作者
- 图片编辑爱好者
- 需要快速为图片添加说明文字的用户

---

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 图片上传
- **功能描述**：用户可以上传本地图片文件
- **支持格式**：JPG、PNG、GIF（静态）、WebP
- **上传方式**：拖拽上传、点击选择文件
- **图片预览**：上传后显示图片预览

#### 2.1.2 文字输入
- **功能描述**：用户可以输入要显示为字幕的文字
- **输入方式**：文本输入框
- **多行支持**：支持输入多行文字
- **自动换行**：根据设定宽度自动换行

#### 2.1.3 字幕样式配置
- **字体大小**：可调节文字大小
- **字体选择**：可选择不同字体
- **文字颜色**：可设置文字颜色
- **背景颜色**：可设置文字背景颜色
- **背景样式**：每行文字背景相同，呈现切割感
- **文字对齐**：左对齐、居中、右对齐
- **行高调节**：可调整行间距

#### 2.1.4 字幕位置
- **底部位置**：字幕固定在图片底部
- **内边距**：可调节字幕与图片边缘的边距
- **宽度设置**：字幕区域的宽度（可设为与图片同宽或小于图片宽）

#### 2.1.5 导出功能
- **格式选择**：可选择导出格式（JPG、PNG）
- **质量调节**：可调节导出图片质量
- **下载保存**：一键下载处理后的图片

### 2.2 扩展功能（可选）

#### 2.2.1 图片编辑
- 裁剪功能
- 旋转功能
- 缩放功能

#### 2.2.2 字幕特效
- 阴影效果
- 描边效果
- 透明度调节

#### 2.2.3 预设模板
- 常用字幕样式模板
- 一键应用预设样式

---

## 3. 界面设计要求

### 3.1 整体布局
- **左侧/上方**：图片预览区域
- **右侧/下方**：控制面板
  - 图片上传区域
  - 文字输入区域
  - 样式设置区域
  - 导出按钮

### 3.2 设计特点
- **切割感字幕**：生成的图片底部每一行文字的背景都是相同的，呈现切割感
- **简洁界面**：界面简洁直观，操作流程清晰
- **响应式设计**：支持不同屏幕尺寸

### 3.3 用户体验
- 实时预览：调整设置时立即看到效果
- 操作便捷：最少步骤完成字幕添加
- 清晰反馈：操作结果清晰可见

---

## 4. 技术需求

### 4.1 前端技术
- **HTML5**：页面结构
- **CSS3**：样式设计、动画效果
- **JavaScript (ES6+)**：交互逻辑
- **Canvas API**：图片处理、字幕合成
- **File API**：图片文件处理

### 4.2 图片处理
- 前端直接处理（推荐）：使用 Canvas API 在浏览器端完成所有图片处理，无需上传服务器
- 优点：隐私安全、响应速度快、节省服务器资源

### 4.3 浏览器兼容性
- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

---

## 5. 用户流程

### 5.1 主流程
```
1. 访问网页
2. 上传图片
3. 输入字幕文字
4. 调整字幕样式
5. 预览效果
6. 下载保存图片
```

### 5.2 详细步骤

#### 步骤1：上传图片
1. 用户打开网页
2. 点击"选择图片"按钮或拖拽图片到上传区域
3. 图片上传后在预览区域显示

#### 步骤2：输入文字
1. 在文本输入框中输入字幕文字
2. 支持输入多行文字
3. 文字实时显示在图片底部预览

#### 步骤3：调整样式
1. 选择字体大小
2. 选择文字颜色
3. 选择背景颜色
4. 调整其他样式参数
5. 实时查看预览效果

#### 步骤4：导出保存
1. 选择导出格式（JPG/PNG）
2. 调整导出质量（可选）
3. 点击"下载图片"按钮
4. 图片保存到本地

---

## 6. 数据规格

### 6.1 输入规格
- **图片格式**：JPG、PNG、GIF、WebP
- **图片大小**：建议不超过 10MB
- **图片尺寸**：建议最大 4096×4096 像素
- **文字长度**：无硬性限制，建议每行不超过一定字数

### 6.2 输出规格
- **图片格式**：JPG、PNG
- **图片尺寸**：与原图相同
- **导出质量**：可调节（针对JPG格式）

---

## 7. 异常处理

### 7.1 上传异常
- 文件类型不支持：提示支持的格式
- 文件过大：提示文件大小限制
- 上传失败：提示错误信息并重试

### 7.2 渲染异常
- 文字过长：自动换行或提示
- 颜色不可见：提示对比度问题

---

## 8. 非功能需求

### 8.1 性能需求
- 页面加载时间 < 3秒
- 图片处理响应时间 < 2秒
- 界面交互流畅无卡顿

### 8.2 安全需求
- 前端处理，不上传用户图片到服务器
- 保护用户隐私

### 8.3 可用性需求
- 无需注册登录即可使用
- 操作简单，学习成本低
- 支持移动端使用

---

## 9. 项目结构建议

```
项目目录/
├── index.html          # 主页面
├── css/
│   └── style.css       # 样式文件
├── js/
│   └── main.js         # 主逻辑
├── assets/
│   └── images/         # 图片资源
└── README.md           # 项目说明
```

---

## 10. 开发计划

### 10.1 第一阶段：基础功能
- [ ] 搭建项目框架
- [ ] 实现图片上传和预览
- [ ] 实现文字输入
- [ ] 实现基础字幕显示（Canvas绘制）

### 10.2 第二阶段：样式配置
- [ ] 添加字体大小调节
- [ ] 添加文字颜色选择
- [ ] 添加背景颜色选择
- [ ] 实现切割感背景效果
- [ ] 添加文字对齐方式
- [ ] 添加行高调节

### 10.3 第三阶段：导出功能
- [ ] 实现图片导出
- [ ] 支持格式选择
- [ ] 支持质量调节
- [ ] 优化用户体验

### 10.4 第四阶段：优化完善
- [ ] 优化界面设计
- [ ] 添加预设模板
- [ ] 性能优化
- [ ] 浏览器兼容性测试
- [ ] 移动端适配

---

## 11. 待确认事项

- [ ] 请提供参考图片，以便更准确地理解需求
- [ ] 确认是否需要图片裁剪、旋转等编辑功能
- [ ] 确认是否需要阴影、描边等文字特效
- [ ] 确认是否需要用户登录功能
- [ ] 确认是否需要保存历史记录功能

---

## 12. 参考资料

- 相关工具参考：
  - Canvas API 文档
  - 图片处理最佳实践
  - 网页设计规范

---

**文档版本**：v1.0  
**创建日期**：2024年  
**最后更新**：2024年
